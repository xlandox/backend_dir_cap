(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2beec046"],{3530:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin"},[a("b-row",{staticClass:"mb-5"},[a("b-col",{attrs:{cols:"12"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-no-header",modifiers:{"sidebar-no-header":!0}}],staticClass:"mt-5",attrs:{pill:"",variant:"success"}},[t._v("Menú del Administrador")]),a("b-sidebar",{attrs:{id:"sidebar-no-header","aria-labelledby":"sidebar-no-header-title","no-header":"",shadow:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hide;return[a("div",{staticClass:"p-3"},[a("h3",{staticClass:"my-5",attrs:{id:"sidebar-no-header-title"}},[t._v("Hola Administrador")]),a("p",[t._v("Seleccioné la colección perteneciente a la base de datos que desea modificar:")]),a("nav",{staticClass:"mb-5"},[a("b-nav",{staticClass:"mt-5",attrs:{vertical:""}},[a("b-nav-item",{on:{click:function(e){return t.mostrar_u()}}},[t._v("Usuarios")]),a("b-nav-item",{on:{click:function(e){return t.mostrar_c()}}},[t._v("Carrusel")]),a("b-nav-item",{on:{click:function(e){return t.mostrar_cu()}}},[t._v("Cursos")]),a("b-nav-item",{on:{click:function(e){return t.mostrar_b()}}},[t._v("Blogs")]),a("b-nav-item",{on:{click:function(e){return t.mostrar_n()}}},[t._v("Noticias")])],1)],1),a("b-button",{attrs:{pill:"",variant:"warning",block:""},on:{click:o}},[t._v("Cerrar Menú")])],1)]}}])})],1)],1),"u"===t.type?a("div",[a("Table_u")],1):t._e(),"c"===t.type?a("div",[a("Table_c")],1):t._e(),"cu"===t.type?a("div",[a("Table_cu")],1):t._e(),"b"===t.type?a("div",[a("Table_b")],1):t._e(),"n"===t.type?a("div",[a("Table_n")],1):t._e()],1)},i=[],r=a("43b3"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",[a("h3",[t._v("Colección de usuarios:")])])],1),a("b-row",{staticClass:"mb-5 d-flex justify-content-center"},[t.editar||t.crear?t._e():a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Nombre")]),a("th",{attrs:{scope:"col"}},[t._v("Apellido Paterno")]),a("th",{attrs:{scope:"col"}},[t._v("Apellido Materno")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha de Nacimiento")]),a("th",{attrs:{scope:"col"}},[t._v("Alcaldía")]),a("th",{attrs:{scope:"col"}},[t._v("Teléfono")]),a("th",{attrs:{scope:"col"}},[t._v("Correo")]),a("th",{attrs:{scope:"col"}},[t._v("Rol")]),a("th",{staticClass:"d-flex justify-content-center",attrs:{scope:"col"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.cambiarCrear()}}},[t._v("Nuevo Usuario")])],1)])]),a("tbody",t._l(t.usuarios,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.nom))]),a("td",[t._v(t._s(e.a_pat))]),a("td",[t._v(t._s(e.a_mat))]),a("td",[t._v(t._s(e.f_nac))]),a("td",[t._v(t._s(e.alca))]),a("td",[t._v(t._s(e.tel))]),a("td",[t._v(t._s(e.correo))]),a("td",[t._v(t._s(e.rol))]),a("td",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:function(a){return t.cambiarEditar(e._id)}}},[t._v("Editar")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(a){return t.eliminarUsuario(e._id)}}},[t._v("Eliminar")])],1)])})),0)]),a("nav",{attrs:{"aria-label":"Paginacion"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}},href:"#"}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(e,o){return a("li",{key:o,staticClass:"page-item",class:{active:t.paginaActual===o+1}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:o+1}},href:"#"}},[t._v(t._s(o+1))])],1)})),a("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}},href:"#"}},[t._v("Siguiente")])],1)],2)])]),t.crear?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Crear Usuario")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.agregarUsuario()}}},[a("b-form-group",{attrs:{id:"Nombre",label:"Nombre","label-for":"nom"}},[a("b-form-input",{attrs:{id:"nom",type:"text",required:"",placeholder:"Escribe tu nombre"},model:{value:t.usuario.nom,callback:function(e){t.$set(t.usuario,"nom",e)},expression:"usuario.nom"}})],1),a("b-form-group",{attrs:{id:"Apellido P.",label:"Apellido Paterno","label-for":"a_pat"}},[a("b-form-input",{attrs:{id:"a_pat",type:"text",required:"",placeholder:"Escribe tu apellido paterno"},model:{value:t.usuario.a_pat,callback:function(e){t.$set(t.usuario,"a_pat",e)},expression:"usuario.a_pat"}})],1),a("b-form-group",{attrs:{id:"Apellido M.",label:"Apellido Materno","label-for":"a_mat"}},[a("b-form-input",{attrs:{id:"a_mat",type:"text",required:"",placeholder:"Escribe tu apellido materno"},model:{value:t.usuario.a_mat,callback:function(e){t.$set(t.usuario,"a_mat",e)},expression:"usuario.a_mat"}})],1),a("b-form-group",{attrs:{id:"Fecha_n",label:"Fecha de nacimiento","label-for":"f_nac"}},[a("b-form-datepicker",{attrs:{id:"f_nac",required:"",placeholder:"Selecciona tu fecha de nacimiento",local:"es"},model:{value:t.usuario.f_nac,callback:function(e){t.$set(t.usuario,"f_nac",e)},expression:"usuario.f_nac"}})],1),a("b-form-group",{attrs:{id:"Alcaldía",label:"Alcaldía","label-for":"alca"}},[a("b-form-select",{attrs:{id:"alca",options:t.alcaldias,required:""},model:{value:t.usuario.alca,callback:function(e){t.$set(t.usuario,"alca",e)},expression:"usuario.alca"}})],1),a("b-form-group",{attrs:{id:"Teléfono",label:"Teléfono","label-for":"tel"}},[a("b-form-input",{attrs:{id:"tel",type:"number",required:"",placeholder:"Ingrese su número"},model:{value:t.usuario.tel,callback:function(e){t.$set(t.usuario,"tel",e)},expression:"usuario.tel"}})],1),a("b-form-group",{attrs:{id:"Correo",label:"Correo Electrónico","label-for":"correo"}},[a("b-form-input",{attrs:{id:"correo",type:"email",required:"",placeholder:"Eje. correo@dominio.com"},model:{value:t.usuario.correo,callback:function(e){t.$set(t.usuario,"correo",e)},expression:"usuario.correo"}})],1),a("b-form-group",{attrs:{id:"Contraseña",label:"Contraseña","label-for":"contra"}},[a("b-form-input",{attrs:{id:"contra",type:"password",required:"",placeholder:"Escribe tu contraseña"},model:{value:t.usuario.contra,callback:function(e){t.$set(t.usuario,"contra",e)},expression:"usuario.contra"}})],1),a("b-form-group",{attrs:{id:"Rol",label:"Rol","label-for":"rol"}},[a("b-form-select",{attrs:{id:"rol",options:t.roles,required:""},model:{value:t.usuario.rol,callback:function(e){t.$set(t.usuario,"rol",e)},expression:"usuario.rol"}})],1),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"my-5 mx-2",attrs:{type:"submit",variant:"primary"}},[t._v("Agregar")]),a("b-button",{staticClass:"my-5 mx-2",attrs:{variant:"warning"},on:{click:function(e){t.crear=!1}}},[t._v("Regresar")])],1)],1)],1):t._e(),t.editar?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Editar Usuario")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.editarUsuario(t.usuario_e)}}},[a("b-form-group",{attrs:{id:"Nombre",label:"Nombre","label-for":"nom"}},[a("b-form-input",{attrs:{id:"nom",type:"text",required:"",placeholder:"Escribe tu nombre"},model:{value:t.usuario_e.nom,callback:function(e){t.$set(t.usuario_e,"nom",e)},expression:"usuario_e.nom"}})],1),a("b-form-group",{attrs:{id:"Apellido P.",label:"Apellido Paterno","label-for":"a_pat"}},[a("b-form-input",{attrs:{id:"a_pat",type:"text",required:"",placeholder:"Escribe tu apellido paterno"},model:{value:t.usuario_e.a_pat,callback:function(e){t.$set(t.usuario_e,"a_pat",e)},expression:"usuario_e.a_pat"}})],1),a("b-form-group",{attrs:{id:"Apellido M.",label:"Apellido Materno","label-for":"a_mat"}},[a("b-form-input",{attrs:{id:"a_mat",type:"text",required:"",placeholder:"Escribe tu apellido materno"},model:{value:t.usuario_e.a_mat,callback:function(e){t.$set(t.usuario_e,"a_mat",e)},expression:"usuario_e.a_mat"}})],1),a("b-form-group",{attrs:{id:"Fecha_n",label:"Fecha de nacimiento","label-for":"f_nac"}},[a("b-form-datepicker",{attrs:{id:"f_nac",required:"",placeholder:"Selecciona tu fecha de nacimiento",local:"es"},model:{value:t.usuario_e.f_nac,callback:function(e){t.$set(t.usuario_e,"f_nac",e)},expression:"usuario_e.f_nac"}})],1),a("b-form-group",{attrs:{id:"Alcaldía",label:"Alcaldía","label-for":"alca"}},[a("b-form-select",{attrs:{id:"alca",options:t.alcaldias,required:""},model:{value:t.usuario_e.alca,callback:function(e){t.$set(t.usuario_e,"alca",e)},expression:"usuario_e.alca"}})],1),a("b-form-group",{attrs:{id:"Teléfono",label:"Teléfono","label-for":"tel"}},[a("b-form-input",{attrs:{id:"tel",type:"number",required:"",placeholder:"Ingrese su número"},model:{value:t.usuario_e.tel,callback:function(e){t.$set(t.usuario_e,"tel",e)},expression:"usuario_e.tel"}})],1),a("b-form-group",{attrs:{id:"Correo",label:"Correo Electrónico","label-for":"correo"}},[a("b-form-input",{attrs:{id:"correo",type:"email",required:"",placeholder:"Eje. correo@dominio.com"},model:{value:t.usuario_e.correo,callback:function(e){t.$set(t.usuario_e,"correo",e)},expression:"usuario_e.correo"}})],1),a("b-form-group",{attrs:{id:"Contraseña",label:"Contraseña","label-for":"contra"}},[a("b-form-input",{attrs:{id:"contra",type:"password",placeholder:"Si la contrasena no se modifica dejar en blanco"},model:{value:t.usuario_e.contra,callback:function(e){t.$set(t.usuario_e,"contra",e)},expression:"usuario_e.contra"}})],1),a("b-form-group",{attrs:{id:"Rol",label:"Rol","label-for":"rol"}},[a("b-form-select",{attrs:{id:"rol",options:t.roles,required:""},model:{value:t.usuario_e.rol,callback:function(e){t.$set(t.usuario_e,"rol",e)},expression:"usuario_e.rol"}})],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Editar")]),a("b-button",{attrs:{type:"submit",variant:"warning"},on:{click:function(e){t.editar=!1}}},[t._v("Regresar")])],1)],1):t._e()],1),a("b-row",{staticClass:"d-flex justify-content-center"},[a("b-col",{attrs:{sm:"8"}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")])],1)],1)],1)},s=[],l=(a("99af"),a("c740"),a("a434"),a("5530")),c=a("2f62"),u={name:"Table_u",data:function(){return{mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,totalUsuarios:0,limite:5,paginaActual:1,usuarios:[],crear:!1,editar:!1,usuario:{nom:"",a_pat:"",a_mat:"",f_nac:"",alca:"",tel:"",correo:"",contra:"",rol:""},alcaldias:[{value:null,text:"Selecciona una alcaldía",disabled:!0},{value:"Álvaro Obregón",text:"Álvaro Obregón"},{value:"Azcapotzalco",text:"Azcapotzalco"},{value:"Benito Juárez",text:"Benito Juárez"},{value:"Coyoacán",text:"Coyoacán"},{value:"Cuajimalpa de Morelos",text:"Cuajimalpa de Morelos"},{value:"Cuauhtémoc",text:"Cuauhtémoc"},{value:"Gustavo A. Madero",text:"Gustavo A. Madero"},{value:"Iztacalco",text:"Iztacalco"},{value:"Iztapalapa",text:"Iztapalapa"},{value:"Magdalena Contreras",text:"Magdalena Contreras"},{value:"Miguel Hidalgo",text:"Miguel Hidalgo"},{value:"Milpa Alta",text:"Milpa Alta"},{value:"Tláhuac",text:"Tláhuac"},{value:"Tlalpan",text:"Tlalpan"},{value:"Venustiano Carranza",text:"Venustiano Carranza"},{value:"Xochimilco",text:"Xochimilco"}],roles:[{value:null,text:"Selecciona el rol",disabled:!0},{value:"Usuario",text:"Usuario"},{value:"Administrador",text:"Administrador"}],usuario_e:{}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["d"])(["token"])),{},{cantidadPaginas:function(){return Math.ceil(this.totalUsuarios/this.limite)}}),watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},paginacion:function(t){var e=this,a={headers:{token:this.token}},o=(t-1)*this.limite;this.axios.get("/usuarios?skip=".concat(o,"&limit=").concat(this.limite),a).then((function(t){e.usuarios=t.data.usuarioDB,e.totalUsuarios=t.data.totalUsuarios})).catch((function(t){console.log(t.respone)}))},cambiarCrear:function(){this.crear=!0},agregarUsuario:function(){var t=this;this.axios.post("/nuevo_usuario",this.usuario).then((function(e){t.mensaje.color="primary",t.mensaje.texto="El registro fue exitoso",t.showAlert(),t.usuario.push(e.data)})).catch((function(e){t.mensaje.color="info",t.mensaje.texto=e.response.data.error.errors.correo.properties.message,t.showAlert()}))},cambiarEditar:function(t){var e=this;this.editar=!0;var a={headers:{token:this.token}};this.axios.get("/usuario/".concat(t),a).then((function(t){e.usuario_e=t.data})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},editarUsuario:function(t){var e=this,a={headers:{token:this.token}};this.axios.put("/usuario/".concat(t._id),t,a).then((function(t){var a=e.usuarios.findIndex((function(e){return e._id===t.data._id}));e.usuarios[a].nom=t.data.nom,e.usuarios[a].a_pat=t.data.a_pat,e.usuarios[a].a_mat=t.data.a_mat,e.usuarios[a].f_nac=t.data.f_nac,e.usuarios[a].alca=t.data.alca,e.usuarios[a].tel=t.data.tel,e.usuarios[a].correo=t.data.correo,e.usuarios[a].contra=t.data.contra,e.usuarios[a].rol=t.data.rol,e.mensaje.color="primary",e.mensaje.texto="Se actualizo con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},eliminarUsuario:function(t){var e=this,a={headers:{token:this.token}};console.log(t),this.axios.delete("/usuario/".concat(t),a).then((function(t){var a=e.usuarios.findIndex((function(e){return e._id===t.data._id}));e.usuarios.splice(a,1),e.mensaje.color="primary",e.mensaje.texto="El registro fue eliminado con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))}}},d=u,m=a("2877"),f=Object(m["a"])(d,n,s,!1,null,null,null),b=f.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",[a("h3",[t._v("Colección de Carrusel:")])])],1),a("b-row",{staticClass:"mb-5 d-flex justify-content-center"},[t.editar||t.crear?t._e():a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Titulo")]),a("th",{attrs:{scope:"col"}},[t._v("Autor")]),a("th",{attrs:{scope:"col"}},[t._v("Foto")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha de Creación")]),a("th",{staticClass:"d-flex justify-content-center",attrs:{scope:"col"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.cambiarCrear()}}},[t._v("Nueva Imagen")])],1)])]),a("tbody",t._l(t.imagenes,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.autor_id))]),a("td",[t._v(t._s(e.foto))]),a("td",[t._v(t._s(e.f_crea))]),a("td",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:function(a){return t.cambiarEditar(e._id)}}},[t._v("Editar")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(a){return t.eliminarImagen(e._id)}}},[t._v("Eliminar")])],1)])})),0)]),a("nav",{attrs:{"aria-label":"Paginacion"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}},href:"#"}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(e,o){return a("li",{key:o,staticClass:"page-item",class:{active:t.paginaActual===o+1}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:o+1}},href:"#"}},[t._v(t._s(o+1))])],1)})),a("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}},href:"#"}},[t._v("Siguiente")])],1)],2)])]),t.crear?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Insertar Imagen")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.agregarImagen()}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo de la imagen"},model:{value:t.imagen.titulo,callback:function(e){t.$set(t.imagen,"titulo",e)},expression:"imagen.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.imagen.resumen,callback:function(e){t.$set(t.imagen,"resumen",e)},expression:"imagen.resumen"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.imagen.foto,callback:function(e){t.$set(t.imagen,"foto",e)},expression:"imagen.foto"}}),t._v(" Las dimensiones de la imagen deben ser 1024x480 pixeles para un mejor funcionamiento. ")],1),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"my-5 mx-2",attrs:{type:"submit",variant:"primary"}},[t._v("Agregar")]),a("b-button",{staticClass:"my-5 mx-2",attrs:{variant:"warning"},on:{click:function(e){t.crear=!1}}},[t._v("Regresar")])],1)],1)],1):t._e(),t.editar?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Editar Imagen")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.editarImagen(t.imagen_e)}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo de la imagen"},model:{value:t.imagen_e.titulo,callback:function(e){t.$set(t.imagen_e,"titulo",e)},expression:"imagen_e.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.imagen_e.resumen,callback:function(e){t.$set(t.imagen_e,"resumen",e)},expression:"imagen_e.resumen"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.imagen_e.foto,callback:function(e){t.$set(t.imagen_e,"foto",e)},expression:"imagen_e.foto"}}),t._v(" Las dimensiones de la imagen deben ser 1024x480 pixeles para un mejor funcionamiento. ")],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Editar")]),a("b-button",{attrs:{type:"submit",variant:"warning"},on:{click:function(e){t.editar=!1}}},[t._v("Regresar")])],1)],1):t._e()],1),a("b-row",{staticClass:"d-flex justify-content-center"},[a("b-col",{attrs:{sm:"8"}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")])],1)],1)],1)},h=[],_={name:"Table_c",data:function(){return{mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,totalImagenes:0,limite:5,paginaActual:1,imagenes:[],crear:!1,editar:!1,imagen:{titulo:"",resumen:"",foto:""},imagen_e:{}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["d"])(["token"])),{},{cantidadPaginas:function(){return Math.ceil(this.totalImagenes/this.limite)}}),watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},paginacion:function(t){var e=this,a=(t-1)*this.limite;this.axios.get("/imagenes?skip=".concat(a,"&limit=").concat(this.limite)).then((function(t){e.imagenes=t.data.carruselDB,e.totalImagenes=t.data.totalImagenes})).catch((function(t){console.log(t.respone)}))},cambiarCrear:function(){this.crear=!0},agregarImagen:function(){var t=this,e={headers:{token:this.token}};this.axios.post("/nueva_imagen",this.imagen,e).then((function(e){t.mensaje.color="primary",t.mensaje.texto="El registro fue exitoso",t.showAlert(),t.imagen.push(e.data)})).catch((function(e){t.mensaje.color="info",t.mensaje.texto=e.response,t.showAlert()}))},cambiarEditar:function(t){var e=this;this.editar=!0,this.axios.get("/imagen/".concat(t)).then((function(t){e.imagen_e=t.data})).catch((function(t){console.log(t.response)}))},editarImagen:function(t){var e=this,a={headers:{token:this.token}};this.axios.put("/imagen/".concat(t._id),t,a).then((function(t){var a=e.imagenes.findIndex((function(e){return e._id===t.data._id}));e.imagenes[a].titulo=t.data.titulo,e.imagenes[a].resumen=t.data.resumen,e.imagenes[a].foto=t.data.foto,e.mensaje.color="primary",e.mensaje.texto="Se actualizo con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},eliminarImagen:function(t){var e=this,a={headers:{token:this.token}};this.axios.delete("/imagen/".concat(t),a).then((function(t){var a=e.imagenes.findIndex((function(e){return e._id===t.data._id}));e.imagenes.splice(a,1),e.mensaje.color="primary",e.mensaje.texto="El registro fue eliminado con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))}}},g=_,v=Object(m["a"])(g,p,h,!1,null,null,null),x=v.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",[a("h3",[t._v("Colección de cursos:")])])],1),a("b-row",{staticClass:"mb-5 d-flex justify-content-center"},[t.editar||t.crear?t._e():a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Nombre")]),a("th",{attrs:{scope:"col"}},[t._v("Foto")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha I")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha F")]),a("th",{attrs:{scope:"col"}},[t._v("Cupo")]),a("th",{staticClass:"d-flex justify-content-center",attrs:{scope:"col"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.cambiarCrear()}}},[t._v("Nuevo Curso")])],1)])]),a("tbody",t._l(t.cursos,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.nom))]),a("td",[t._v(t._s(e.foto))]),a("td",[t._v(t._s(e.f_ini))]),a("td",[t._v(t._s(e.f_fin))]),a("td",[t._v(t._s(e.cupo))]),a("td",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:function(a){return t.cambiarEditar(e._id)}}},[t._v("Editar")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(a){return t.eliminarCurso(e._id)}}},[t._v("Eliminar")])],1)])})),0)]),a("nav",{attrs:{"aria-label":"Paginacion"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}},href:"#"}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(e,o){return a("li",{key:o,staticClass:"page-item",class:{active:t.paginaActual===o+1}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:o+1}},href:"#"}},[t._v(t._s(o+1))])],1)})),a("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}},href:"#"}},[t._v("Siguiente")])],1)],2)])]),t.crear?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Crear Curso")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.agregarCurso()}}},[a("b-form-group",{attrs:{id:"Nombre",label:"Nombre","label-for":"nombre"}},[a("b-form-input",{attrs:{id:"nombre",type:"text",required:"",placeholder:"Escribe el nombre del curso"},model:{value:t.curso.nom,callback:function(e){t.$set(t.curso,"nom",e)},expression:"curso.nom"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.curso.foto,callback:function(e){t.$set(t.curso,"foto",e)},expression:"curso.foto"}}),t._v(" Las dimensiones de la imagen deben ser 600x300 pixeles para un mejor funcionamiento. ")],1),a("b-form-group",{attrs:{id:"Descripcion",label:"Descripcion","label-for":"descripcion"}},[a("b-form-textarea",{attrs:{id:"descripcion",placeholder:"Redacta una descripcion ...",rows:"6"},model:{value:t.curso.des,callback:function(e){t.$set(t.curso,"des",e)},expression:"curso.des"}})],1),a("b-form-group",{attrs:{id:"Fecha_inicio",label:"Fecha de inicio","label-for":"f_ini"}},[a("b-form-datepicker",{attrs:{id:"f_ini",required:"",placeholder:"Selecciona la fecha de inicio",local:"es"},model:{value:t.curso.f_ini,callback:function(e){t.$set(t.curso,"f_ini",e)},expression:"curso.f_ini"}})],1),a("b-form-group",{attrs:{id:"Fecha_fin",label:"Fecha de finalizacion","label-for":"f_fin"}},[a("b-form-datepicker",{attrs:{id:"f_fin",required:"",placeholder:"Selecciona la fecha de finalizacion",local:"es"},model:{value:t.curso.f_fin,callback:function(e){t.$set(t.curso,"f_fin",e)},expression:"curso.f_fin"}})],1),a("b-form-group",{attrs:{id:"Cupo",label:"Cupo","label-for":"cupo"}},[a("b-form-input",{attrs:{id:"cupo",type:"number",required:"",placeholder:"Ingrese el cupo maximo del curso"},model:{value:t.curso.cupo,callback:function(e){t.$set(t.curso,"cupo",e)},expression:"curso.cupo"}})],1),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"my-5 mx-2",attrs:{type:"submit",variant:"primary"}},[t._v("Agregar")]),a("b-button",{staticClass:"my-5 mx-2",attrs:{variant:"warning"},on:{click:function(e){t.crear=!1}}},[t._v("Regresar")])],1)],1)],1):t._e(),t.editar?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Editar Blog")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.editarCurso(t.curso_e)}}},[a("b-form-group",{attrs:{id:"Nombre",label:"Nombre","label-for":"nombre"}},[a("b-form-input",{attrs:{id:"nombre",type:"text",required:"",placeholder:"Escribe el nombre del curso"},model:{value:t.curso_e.nom,callback:function(e){t.$set(t.curso_e,"nom",e)},expression:"curso_e.nom"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.curso_e.foto,callback:function(e){t.$set(t.curso_e,"foto",e)},expression:"curso_e.foto"}})],1),a("b-form-group",{attrs:{id:"Descripcion",label:"Descripcion","label-for":"descripcion"}},[a("b-form-textarea",{attrs:{id:"descripcion",placeholder:"Redacta una descripcion ...",rows:"6"},model:{value:t.curso_e.des,callback:function(e){t.$set(t.curso_e,"des",e)},expression:"curso_e.des"}})],1),a("b-form-group",{attrs:{id:"Fecha_inicio",label:"Fecha de inicio","label-for":"f_ini"}},[a("b-form-datepicker",{attrs:{id:"f_ini",required:"",placeholder:"Selecciona la fecha de inicio",local:"es"},model:{value:t.curso_e.f_ini,callback:function(e){t.$set(t.curso_e,"f_ini",e)},expression:"curso_e.f_ini"}})],1),a("b-form-group",{attrs:{id:"Fecha_fin",label:"Fecha de finalizacion","label-for":"f_fin"}},[a("b-form-datepicker",{attrs:{id:"f_fin",required:"",placeholder:"Selecciona la fecha de finalizacion",local:"es"},model:{value:t.curso_e.f_fin,callback:function(e){t.$set(t.curso_e,"f_fin",e)},expression:"curso_e.f_fin"}})],1),a("b-form-group",{attrs:{id:"Cupo",label:"Cupo","label-for":"cupo"}},[a("b-form-input",{attrs:{id:"cupo",type:"number",required:"",placeholder:"Ingrese el cupo maximo del curso"},model:{value:t.curso_e.cupo,callback:function(e){t.$set(t.curso_e,"cupo",e)},expression:"curso_e.cupo"}})],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Editar")]),a("b-button",{attrs:{type:"submit",variant:"warning"},on:{click:function(e){t.editar=!1}}},[t._v("Regresar")])],1)],1):t._e()],1),a("b-row",{staticClass:"d-flex justify-content-center"},[a("b-col",{attrs:{sm:"8"}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")])],1)],1)],1)},y=[],k={name:"Table_cu",data:function(){return{mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,totalCursos:0,limite:6,paginaActual:1,cursos:[],crear:!1,editar:!1,curso:{nom:"",foto:"",des:"",f_ini:"",f_fin:"",cupo:""},curso_e:{}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["d"])(["token"])),{},{cantidadPaginas:function(){return Math.ceil(this.totalCursos/this.limite)}}),watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},paginacion:function(t){var e=this,a=(t-1)*this.limite;this.axios.get("/cursos?skip=".concat(a,"&limit=").concat(this.limite)).then((function(t){e.cursos=t.data.cursoDB,e.totalCursos=t.data.totalCursos})).catch((function(t){console.log(t.respone)}))},cambiarCrear:function(){this.crear=!0},agregarCurso:function(){var t=this,e={headers:{token:this.token}};this.axios.post("/nuevo_curso",this.curso,e).then((function(e){t.mensaje.color="primary",t.mensaje.texto="El registro fue exitoso",t.showAlert(),t.curso.push(e.data)})).catch((function(e){t.mensaje.color="info",t.mensaje.texto=e.response,t.showAlert()}))},cambiarEditar:function(t){var e=this;this.editar=!0,this.axios.get("/curso/".concat(t)).then((function(t){e.curso_e=t.data})).catch((function(t){console.log(t.response)}))},editarCurso:function(t){var e=this,a={headers:{token:this.token}};this.axios.put("/curso/".concat(t._id),t,a).then((function(t){var a=e.cursos.findIndex((function(e){return e._id===t.data._id}));e.cursos[a].nom=t.data.nom,e.cursos[a].foto=t.data.foto,e.cursos[a].des=t.data.des,e.cursos[a].f_ini=t.data.f_ini,e.cursos[a].f_fin=t.data.f_fin,e.cursos[a].cupo=t.data.cupo,e.mensaje.color="primary",e.mensaje.texto="Se actualizo con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},eliminarCurso:function(t){var e=this,a={headers:{token:this.token}};this.axios.delete("/curso/".concat(t),a).then((function(t){var a=e.cursos.findIndex((function(e){return e._id===t.data._id}));e.cursos.splice(a,1),e.mensaje.color="primary",e.mensaje.texto="El registro fue eliminado con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))}}},j=k,w=Object(m["a"])(j,C,y,!1,null,null,null),A=w.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",[a("h3",[t._v("Colección de blogs:")])])],1),a("b-row",{staticClass:"mb-5 d-flex justify-content-center"},[t.editar||t.crear?t._e():a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Titulo")]),a("th",{attrs:{scope:"col"}},[t._v("Autor")]),a("th",{attrs:{scope:"col"}},[t._v("Foto")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha de Creación")]),a("th",{staticClass:"d-flex justify-content-center",attrs:{scope:"col"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.cambiarCrear()}}},[t._v("Nuevo Blog")])],1)])]),a("tbody",t._l(t.blogs,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.autor_id))]),a("td",[t._v(t._s(e.foto))]),a("td",[t._v(t._s(e.f_crea))]),a("td",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:function(a){return t.cambiarEditar(e._id)}}},[t._v("Editar")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(a){return t.eliminarBlog(e._id)}}},[t._v("Eliminar")])],1)])})),0)]),a("nav",{attrs:{"aria-label":"Paginacion"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}},href:"#"}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(e,o){return a("li",{key:o,staticClass:"page-item",class:{active:t.paginaActual===o+1}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:o+1}},href:"#"}},[t._v(t._s(o+1))])],1)})),a("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}},href:"#"}},[t._v("Siguiente")])],1)],2)])]),t.crear?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Crear Blog")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.agregarBlog()}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo del blog"},model:{value:t.blog.titulo,callback:function(e){t.$set(t.blog,"titulo",e)},expression:"blog.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.blog.resumen,callback:function(e){t.$set(t.blog,"resumen",e)},expression:"blog.resumen"}})],1),a("b-form-group",{attrs:{id:"Artículo",label:"Artículo","label-for":"articulo"}},[a("b-form-textarea",{attrs:{id:"articulo",placeholder:"Redacta el artículo ...",rows:"6"},model:{value:t.blog.articulo,callback:function(e){t.$set(t.blog,"articulo",e)},expression:"blog.articulo"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.blog.foto,callback:function(e){t.$set(t.blog,"foto",e)},expression:"blog.foto"}}),t._v(" Las dimensiones de la imagen deben ser 900x250 pixeles para un mejor funcionamiento. ")],1),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"my-5 mx-2",attrs:{type:"submit",variant:"primary"}},[t._v("Agregar")]),a("b-button",{staticClass:"my-5 mx-2",attrs:{variant:"warning"},on:{click:function(e){t.crear=!1}}},[t._v("Regresar")])],1)],1)],1):t._e(),t.editar?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Editar Blog")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.editarBlog(t.blog_e)}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo del blog"},model:{value:t.blog_e.titulo,callback:function(e){t.$set(t.blog_e,"titulo",e)},expression:"blog_e.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.blog_e.resumen,callback:function(e){t.$set(t.blog_e,"resumen",e)},expression:"blog_e.resumen"}})],1),a("b-form-group",{attrs:{id:"Artículo",label:"Artículo","label-for":"articulo"}},[a("b-form-textarea",{attrs:{id:"articulo",placeholder:"Redacta el artículo ...",rows:"6"},model:{value:t.blog_e.articulo,callback:function(e){t.$set(t.blog_e,"articulo",e)},expression:"blog_e.articulo"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.blog_e.foto,callback:function(e){t.$set(t.blog_e,"foto",e)},expression:"blog_e.foto"}}),t._v(" Las dimensiones de la imagen deben ser 900x250 pixeles para un mejor funcionamiento. ")],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Editar")]),a("b-button",{attrs:{type:"submit",variant:"warning"},on:{click:function(e){t.editar=!1}}},[t._v("Regresar")])],1)],1):t._e()],1),a("b-row",{staticClass:"d-flex justify-content-center"},[a("b-col",{attrs:{sm:"8"}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")])],1)],1)],1)},q=[],$={name:"Table_b",data:function(){return{mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,totalBlogs:0,limite:5,paginaActual:1,blogs:[],crear:!1,editar:!1,blog:{titulo:"",resumen:"",articulo:"",foto:""},blog_e:{}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["d"])(["token"])),{},{cantidadPaginas:function(){return Math.ceil(this.totalBlogs/this.limite)}}),watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},paginacion:function(t){var e=this,a=(t-1)*this.limite;this.axios.get("/blogs?skip=".concat(a,"&limit=").concat(this.limite)).then((function(t){e.blogs=t.data.blogDB,e.totalBlogs=t.data.totalBlogs})).catch((function(t){console.log(t.respone)}))},cambiarCrear:function(){this.crear=!0},agregarBlog:function(){var t=this,e={headers:{token:this.token}};this.axios.post("/nuevo_blog",this.blog,e).then((function(e){t.mensaje.color="primary",t.mensaje.texto="El registro fue exitoso",t.showAlert(),t.blog.push(e.data)})).catch((function(e){t.mensaje.color="info",t.mensaje.texto=e.response,t.showAlert()}))},cambiarEditar:function(t){var e=this;this.editar=!0,this.axios.get("/blog/".concat(t)).then((function(t){e.blog_e=t.data})).catch((function(t){console.log(t.response)}))},editarBlog:function(t){var e=this,a={headers:{token:this.token}};this.axios.put("/blog/".concat(t._id),t,a).then((function(t){var a=e.blogs.findIndex((function(e){return e._id===t.data._id}));e.blogs[a].titulo=t.data.titulo,e.blogs[a].resumen=t.data.resumen,e.blogs[a].articulo=t.data.articulo,e.blogs[a].foto=t.data.foto,e.mensaje.color="primary",e.mensaje.texto="Se actualizo con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},eliminarBlog:function(t){var e=this,a={headers:{token:this.token}};this.axios.delete("/blog/".concat(t),a).then((function(t){var a=e.blogs.findIndex((function(e){return e._id===t.data._id}));e.blogs.splice(a,1),e.mensaje.color="primary",e.mensaje.texto="El registro fue eliminado con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))}}},D=$,I=Object(m["a"])(D,E,q,!1,null,null,null),T=I.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",[a("h3",[t._v("Colección de noticias:")])])],1),a("b-row",{staticClass:"mb-5 d-flex justify-content-center"},[t.editar||t.crear?t._e():a("b-col",{attrs:{cols:"12"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Titulo")]),a("th",{attrs:{scope:"col"}},[t._v("Autor")]),a("th",{attrs:{scope:"col"}},[t._v("Foto")]),a("th",{attrs:{scope:"col"}},[t._v("Fecha de Creación")]),a("th",{staticClass:"d-flex justify-content-center",attrs:{scope:"col"}},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.cambiarCrear()}}},[t._v("Nueva Noticia")])],1)])]),a("tbody",t._l(t.noticias,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.autor_id))]),a("td",[t._v(t._s(e.foto))]),a("td",[t._v(t._s(e.f_crea))]),a("td",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:function(a){return t.cambiarEditar(e._id)}}},[t._v("Editar")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(a){return t.eliminarNoticia(e._id)}}},[t._v("Eliminar")])],1)])})),0)]),a("nav",{attrs:{"aria-label":"Paginacion"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}},href:"#"}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(e,o){return a("li",{key:o,staticClass:"page-item",class:{active:t.paginaActual===o+1}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:o+1}},href:"#"}},[t._v(t._s(o+1))])],1)})),a("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[a("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}},href:"#"}},[t._v("Siguiente")])],1)],2)])]),t.crear?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Crear Noticia")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.agregarNoticia()}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo de la noticia"},model:{value:t.noticia.titulo,callback:function(e){t.$set(t.noticia,"titulo",e)},expression:"noticia.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.noticia.resumen,callback:function(e){t.$set(t.noticia,"resumen",e)},expression:"noticia.resumen"}})],1),a("b-form-group",{attrs:{id:"Artículo",label:"Artículo","label-for":"articulo"}},[a("b-form-textarea",{attrs:{id:"articulo",placeholder:"Redacta el artículo ...",rows:"6"},model:{value:t.noticia.articulo,callback:function(e){t.$set(t.noticia,"articulo",e)},expression:"noticia.articulo"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.noticia.foto,callback:function(e){t.$set(t.noticia,"foto",e)},expression:"noticia.foto"}}),t._v(" Las dimensiones de la imagen deben ser 1000x500 pixeles para un mejor funcionamiento. ")],1),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"my-5 mx-2",attrs:{type:"submit",variant:"primary"}},[t._v("Agregar")]),a("b-button",{staticClass:"my-5 mx-2",attrs:{variant:"warning"},on:{click:function(e){t.crear=!1}}},[t._v("Regresar")])],1)],1)],1):t._e(),t.editar?a("b-col",{attrs:{sm:"8"}},[a("h4",[t._v("Editar Noticia")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.editarNoticia(t.noticia_e)}}},[a("b-form-group",{attrs:{id:"Titulo",label:"Titulo","label-for":"titulo"}},[a("b-form-input",{attrs:{id:"titulo",type:"text",required:"",placeholder:"Escribe el titulo del blog"},model:{value:t.noticia_e.titulo,callback:function(e){t.$set(t.noticia_e,"titulo",e)},expression:"noticia_e.titulo"}})],1),a("b-form-group",{attrs:{id:"Resumen",label:"Resumen","label-for":"resumen"}},[a("b-form-input",{attrs:{id:"resumen",type:"text",required:"",placeholder:"Escribe el resumen de la imagen"},model:{value:t.noticia_e.resumen,callback:function(e){t.$set(t.noticia_e,"resumen",e)},expression:"noticia_e.resumen"}})],1),a("b-form-group",{attrs:{id:"Artículo",label:"Artículo","label-for":"articulo"}},[a("b-form-textarea",{attrs:{id:"articulo",placeholder:"Redacta el artículo ...",rows:"6"},model:{value:t.noticia_e.articulo,callback:function(e){t.$set(t.noticia_e,"articulo",e)},expression:"noticia_e.articulo"}})],1),a("b-form-group",{attrs:{id:"Foto",label:"Foto","label-for":"foto"}},[a("b-form-input",{attrs:{id:"foto",type:"text",required:"",placeholder:"Introduce la URL https://dominio.com/nombreimagen.tipodeimagen"},model:{value:t.noticia_e.foto,callback:function(e){t.$set(t.noticia_e,"foto",e)},expression:"noticia_e.foto"}}),t._v(" Las dimensiones de la imagen deben ser 1000x500 pixeles para un mejor funcionamiento. ")],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Editar")]),a("b-button",{attrs:{type:"submit",variant:"warning"},on:{click:function(e){t.editar=!1}}},[t._v("Regresar")])],1)],1):t._e()],1),a("b-row",{staticClass:"d-flex justify-content-center"},[a("b-col",{attrs:{sm:"8"}},[a("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")])],1)],1)],1)},F=[],S={name:"Table_n",data:function(){return{mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,totalNoticias:0,limite:5,paginaActual:1,noticias:[],crear:!1,editar:!1,noticia:{titulo:"",resumen:"",articulo:"",foto:""},noticia_e:{}}},computed:Object(l["a"])(Object(l["a"])({},Object(c["d"])(["token"])),{},{cantidadPaginas:function(){return Math.ceil(this.totalNoticias/this.limite)}}),watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},paginacion:function(t){var e=this,a=(t-1)*this.limite;this.axios.get("/noticias?skip=".concat(a,"&limit=").concat(this.limite)).then((function(t){e.noticias=t.data.noticiaDB,e.totalNoticias=t.data.totalNoticias})).catch((function(t){console.log(t.respone)}))},cambiarCrear:function(){this.crear=!0},agregarNoticia:function(){var t=this,e={headers:{token:this.token}};this.axios.post("/nueva_noticia",this.noticia,e).then((function(e){t.mensaje.color="primary",t.mensaje.texto="El registro fue exitoso",t.showAlert(),t.noticia.push(e.data)})).catch((function(e){t.mensaje.color="info",t.mensaje.texto=e.response,t.showAlert()}))},cambiarEditar:function(t){var e=this;this.editar=!0,this.axios.get("/noticia/".concat(t)).then((function(t){e.noticia_e=t.data})).catch((function(t){console.log(t.response)}))},editarNoticia:function(t){var e=this,a={headers:{token:this.token}};this.axios.put("/noticia/".concat(t._id),t,a).then((function(t){var a=e.noticias.findIndex((function(e){return e._id===t.data._id}));e.noticias[a].titulo=t.data.titulo,e.noticias[a].resumen=t.data.resumen,e.noticias[a].articulo=t.data.articulo,e.noticias[a].foto=t.data.foto,e.mensaje.color="primary",e.mensaje.texto="Se actualizo con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))},eliminarNoticia:function(t){var e=this,a={headers:{token:this.token}};this.axios.delete("/noticia/".concat(t),a).then((function(t){var a=e.noticias.findIndex((function(e){return e._id===t.data._id}));e.noticias.splice(a,1),e.mensaje.color="primary",e.mensaje.texto="El registro fue eliminado con exito",e.showAlert()})).catch((function(t){e.mensaje.color="info",e.mensaje.texto=t.response,e.showAlert()}))}}},N=S,M=Object(m["a"])(N,R,F,!1,null,null,null),O=M.exports,P={name:"Admin",data:function(){return{type:"u"}},components:{Title:r["a"],Table_u:b,Table_c:x,Table_cu:A,Table_b:T,Table_n:O},methods:{mostrar_u:function(){this.type="u"},mostrar_c:function(){this.type="c"},mostrar_cu:function(){this.type="cu"},mostrar_b:function(){this.type="b"},mostrar_n:function(){this.type="n"}}},U=P,B=Object(m["a"])(U,o,i,!1,null,null,null);e["default"]=B.exports},"43b3":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{staticClass:"centrar",attrs:{cols:"12"}},[a("h2",{staticClass:"my-5 lineas"},[t._v(t._s(t.msg))])])],1)],1)},i=[],r={name:"Title",props:{msg:String}},n=r,s=a("2877"),l=Object(s["a"])(n,o,i,!1,null,null,null);e["a"]=l.exports},"99af":function(t,e,a){"use strict";var o=a("23e7"),i=a("d039"),r=a("e8b5"),n=a("861d"),s=a("7b0b"),l=a("50c4"),c=a("8418"),u=a("65f0"),d=a("1dde"),m=a("b622"),f=a("2d00"),b=m("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",_=f>=51||!i((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),g=d("concat"),v=function(t){if(!n(t))return!1;var e=t[b];return void 0!==e?!!e:r(t)},x=!_||!g;o({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,o,i,r,n=s(this),d=u(n,0),m=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?n:arguments[e],v(r)){if(i=l(r.length),m+i>p)throw TypeError(h);for(a=0;a<i;a++,m++)a in r&&c(d,m,r[a])}else{if(m>=p)throw TypeError(h);c(d,m++,r)}return d.length=m,d}})},a434:function(t,e,a){"use strict";var o=a("23e7"),i=a("23cb"),r=a("a691"),n=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),m=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min,h=9007199254740991,_="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!m||!f},{splice:function(t,e){var a,o,u,d,m,f,g=s(this),v=n(g.length),x=i(t,v),C=arguments.length;if(0===C?a=o=0:1===C?(a=0,o=v-x):(a=C-2,o=p(b(r(e),0),v-x)),v+a-o>h)throw TypeError(_);for(u=l(g,o),d=0;d<o;d++)m=x+d,m in g&&c(u,d,g[m]);if(u.length=o,a<o){for(d=x;d<v-o;d++)m=d+o,f=d+a,m in g?g[f]=g[m]:delete g[f];for(d=v;d>v-o+a;d--)delete g[d-1]}else if(a>o)for(d=v-o;d>x;d--)m=d+o-1,f=d+a-1,m in g?g[f]=g[m]:delete g[f];for(d=0;d<a;d++)g[d+x]=arguments[d+2];return g.length=v-o+a,u}})},c740:function(t,e,a){"use strict";var o=a("23e7"),i=a("b727").findIndex,r=a("44d2"),n=a("ae40"),s="findIndex",l=!0,c=n(s);s in[]&&Array(1)[s]((function(){l=!1})),o({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)}}]);
//# sourceMappingURL=chunk-2beec046.857dd789.js.map